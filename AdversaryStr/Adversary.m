%% Adversary.m (By: Nilofar Rastin,Farinaz Falahpour)
%Inst is  total Database
%Instance is one Instance from Data base
%numFeat is the number of features in database
%numInst is the number of instances in database
%%
function []=Adversary(Inst,Instance,numFeat,numInst,j)
%%
[myGap]=Gap(j,Inst,Instance,numFeat,numInst)
w=myGap 
%%
%**********because of very long run time for see the result we can run this
%part for numFeat=3,w=5****************
%%
[MinCost,MinList]=FindMCC(numFeat,w,j,Inst)

save ('MinCost','MinCost')
save('MinList','MinList')
%%
 
deltaU=20;%UA(-,+)-UA(+,+)

load('NB.mat');

if (NB(j)==1  && MinCost< deltaU)
    newx=Inst(j,:); 
    l=1; 
    
        for k=1 :(size(MinList,2)/2)
            h=MinList(l);
            newx(h)=MinList(k*2);
            l=l+2;
        end
        
     newx
end

end

